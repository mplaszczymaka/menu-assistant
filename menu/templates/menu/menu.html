{% extends 'menu/base.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/menu.css' %}">
{% endblock head %}

{% block content %}
    <div id="container">
        <div id="search-bar">1</div>

        <div id="filters">2</div>

        <div id="account-opt">3</div>

        <div id="categories">
            {% for category in categories %}
                <a href="{% url 'menu:menu' menu.pk category.pk 0 0 %}"><div class="category sheet btn">{{ category }}</div></a>
            {% endfor %}
        </div>

        <div id="dishes">
            {% for dish in dishes %}
                <div class="dish sheet btn">
                    <div class="dish-name">
                        {% if dish.is_available == False %}
                            <span><s style="color:rgba(128, 44, 44, 0.2)">{{ dish }}</s></span>
                        {% else %}
                            <span style="color:#ffffff;">{{ dish }}</span>
                        {% endif %}
                    </div>
                    <div class="dish-amount-price">
                        {% if dish.is_available == False %}
                            <span><s style="color:rgba(128, 44, 44, 0.2)">{{ dish.amount }}szt {{ dish.price }}zł</s></span>
                        {% else %}
                            <span>{{ dish.amount }}szt {{ dish.price }}zł</span>
                        {% endif %}
                    </div>      
                    <div class="dish-ingredient">
                        {% for ingredient in dish.ingredients.all %}
                            {% if ingredient.is_available == False %}
                                <span><s style="color:rgba(128, 44, 44, 0.2)">{{ ingredient }},</s></span>
                            {% else %}
                                {% if dish.is_available == False %}
                                    <span><s style="color:rgba(128, 44, 44, 0.2)">{{ ingredient }},</s></span>
                                {% else %}
                                    <span>{{ ingredient }},</span>
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div class="dish-add">
                        {% if dish.is_available == True %}
                            <span><a href="{% url 'menu:menu' menu.pk category.pk dish.pk 1 %}">+</a></span>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>

        <div id="small-container">
            <div id="info-img">6</div>
            <div id="summary-extras">
                <div class="summary sheet">
                    <h1>Podsumowanie:</h1>
                    <ul>
                        <li>
                            <p class="count-basket">ilość potraw:<span>{{ count_dishes }}</span></p><hr>
                        </li>
                        <li>
                            <p class="count-basket">liczba sztuk:<span>{{ count_pieces }}</span></p><hr>
                        </li>
                        <li>
                            <p class="count-basket">zestaw dla ok:</p><hr>
                        </li>
                        <li>
                            <p class="count-basket">cena:<span>{{ count_costs }}</span></p><hr>
                        </li>
                    </ul>
                </div>
                <div class="similar sheet btn"></div>
                <div class="basket sheet btn"></div>
            </div> 
        </div>
    </div>
{% endblock content%}